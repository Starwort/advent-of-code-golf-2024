a=gets.chop.split", "
c={}
q=-1
p$<.count{|s|f=->s{s[0]?c[s]||=a.sum{_1==s[0,l=_1.size]?f[s[l..]]:0}:1};q!=q+=f[s.chop]}-1,q