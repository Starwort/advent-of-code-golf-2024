a=gets.scan /\w+/
c={}
q=-1
f=->s{c[s]||=s[1]?a.sum{_1==s[0,l=_1.size]?f[s[l..]]:0}:1}
p$<.count{q<q+=f[_1]}-1,q