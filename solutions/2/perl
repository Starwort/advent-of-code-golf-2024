map{$y=$z=$q=0;@A=glob;map{$x=$_-$A[++$q];$y+=0<$x&&$x<4;$z+=0>$x&&$x>-4;}@A[0..$#A-1];$m+=$y+$z==$#A&&(!$y||!$z)}@b=<>;


map {
  @A = glob;
  $o=0;
  for $r (-1..@A - 2) {
    @a=@A[0..$r, $r + 2..$#A];
    $y=$z=$q=0;
    map{$x=$_-$a[++$q];$y+=0<$x&&$x<4;$z+=0>$x&&$x>-4;}@a[0..$#a-1];
    $o|=($y+$z==$#a&&(!$y||!$z));
  }
  $y=$z=$q=0;map{$x=$_-$A[++$q];$y+=0<$x&&$x<4;$z+=0>$x&&$x>-4;}@A[0..$#A-1];$M+=$o||($y+$z==$#A&&(!$y||!$z));
} @b;

print"$m $M"