*s,=open(0);print(*[sum(any(all(0<int(a)-int(b)+r<4for(a,b)in(zip(o,o[1:])))for(i)in(range(c,9))for(o,*o[i:i+1])in[[n.split()]]for(r)in[0,4])for(n)in(s))for(c)in[8,0]])