C={}
for l in open(0):a,b=sorted([l[:2],l[3:5]]);C[b]=C.get(b,{a})|{a};C[a]=C.get(a,set())
G=lambda S:{()}|{k+(n,)for n in S for k in G(S&C[n])}
H=G({*C})
print(sum([1for c in H if len(c)==3and any(n[0]=="t" for n in c)]),",".join(max(H,key=len)))