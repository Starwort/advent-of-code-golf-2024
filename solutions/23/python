C={}
for l in open(0):a,b=sorted(l.strip().split("-"));C[a]=C.get(a,{b})|{b};C[b]=C.get(b,set())
G=lambda S:{()}|{(n,)+k for n in S for k in G(S&C[n])}
H=G({*C})
print(sum([1for c in H if len(c)==3and any(n[0]=="t" for n in c)]),",".join(max(H,key=len)))