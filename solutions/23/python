C={}
for l in open(0):a,b=sorted([l[:2],l[3:5]]);C[a]=C.get(a,{b})|{b};C[b]=C.get(b,{0})
G=lambda S:{()}|{(n,*k)for n in S for k in G(S&C[n])}
H=G({*C})
print(sum(any(n[0]=="t"for n in c)*len(c)==3for c in H),",".join(max(H,key=len)))