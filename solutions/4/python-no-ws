g=open(0).read();[print(sum([sum,all][l](g[i-x::x][:4-l]in(q:='XMAS'[l:],q[::-1])for(x)in(141,1,140,142)[l*2:])for(i)in(range(8**5))))for(l)in(0,1)]