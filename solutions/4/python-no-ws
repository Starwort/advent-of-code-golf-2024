g=open(l:=0).read();f=sum;exec("print(sum(f(g[i-x::x][:4-l]in(q:='XMAS'[l:],q[::-1])for(x)in(141,1,140,142)[l*2:])for(i)in(range(8**5))));l=1;f=all;"*2)