*l,N=-1,5999;G=open(t:=0).read()+""*N
for c in l:
 d,p,*s=131,G.find("^")
 while"\n"<G[p:=p-d]!=s[N:]==[]:".">G[p]*(p!=c)!=(p:=p+d,d:=1|131^2//d-d);s+=p,
 l+={*s*-c};t+=s[:N]<s
print(len(l),t)