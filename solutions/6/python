G=open(0).read()+" "*999
def S(c):
 d,*s=131,G.find("^")
 for p in s:
  if"#">G[p:=p-d]or s[9998:]:return s
  if".">G[p]or p==c:p+=d;d=1|131^2//d-d
  s+=p,
print(len(p:={*S(-1)}),sum(len(S(x))>9997for x in p))