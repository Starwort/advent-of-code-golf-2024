N=9999
G=open(0).read()+" "*N
def S(c):
 d,*s=131,G.find("^")
 for p in s:
  if"#">G[p:=p-d]or s[N:]:return s
  if".">G[p]*(p!=c):p+=d;d=1|131^2//d-d
  s+=p,
print(len(p:={*S(G)}),sum(N<len(S(x))for x in p))